webpackJsonp([3],{1070:function(e,t,a){var n=a(802);"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);a(593)("72d10a9e",n,!0)},1073:function(e,t,a){var n=a(805);"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);a(593)("79fe7b0a",n,!0)},1085:function(e,t,a){"use strict";function n(e){a(1073)}var r=a(704),s=a(1102),o=a(12),i=n,l=o(r.a,s.a,!1,i,null,null);t.a=l.exports},1099:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("bread"),e._v(" "),a("div",{staticClass:"pageTitle"},[a("div",{staticClass:"pageLeftRight"},[a("el-container",[a("el-aside",{staticStyle:{width:"16%"}},[a("div",{staticStyle:{height:"40px","line-height":"40px","padding-left":"20px",background:"#fbfbfb"}},[e._v("菜单结构树")]),e._v(" "),a("el-tree",{attrs:{props:e.treeProps,load:e.loadNode,"node-key":"code",lazy:"","highlight-current":"","default-expand-all":"",accordion:""},on:{"node-click":e.handleNodeClick}})],1),e._v(" "),a("el-main",[a("div",{staticClass:"pageTitleSub"},[a("el-form",[a("el-row",{attrs:{gutter:5}},[a("el-col",{attrs:{span:5}},[a("el-input",{attrs:{"auto-complete":"off",placeholder:"菜单名称"},model:{value:e.queryMenuName,callback:function(t){e.queryMenuName=t},expression:"queryMenuName"}})],1),e._v(" "),a("el-col",{attrs:{span:5}},[a("el-input",{attrs:{"auto-complete":"off",placeholder:"路径"},model:{value:e.queryHref,callback:function(t){e.queryHref=t},expression:"queryHref"}})],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:e.queryData}},[e._v("查 询")]),e._v(" "),a("el-button",{staticStyle:{background:"#fff",color:"#000",border:"1px solid #ccc"},attrs:{type:"primary",icon:"el-icon-plus"},on:{click:function(t){e.handleAddClick()}}},[e._v("新 增")])],1)],1)],1)],1),e._v(" "),a("el-table",{attrs:{data:e.tableData,stripe:"",border:""}},[a("el-table-column",{attrs:{type:"index",width:"60",label:"序号"}}),e._v(" "),a("el-table-column",{attrs:{property:"name",label:"菜单名称",width:"150"}}),e._v(" "),a("el-table-column",{attrs:{property:"code",label:"菜单代码",width:"150"}}),e._v(" "),a("el-table-column",{attrs:{property:"href",label:"路径"}}),e._v(" "),a("el-table-column",{attrs:{property:"resourceName",label:"资源",width:"160"}}),e._v(" "),a("el-table-column",{attrs:{property:"permission",label:"权限",width:"160"}}),e._v(" "),a("el-table-column",{attrs:{property:"sort",label:"排序",width:"60"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作",width:"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"small",icon:"el-icon-edit"},on:{click:function(a){e.handleEdit(t.row)}}},[e._v("编辑")]),e._v(" "),a("el-button",{attrs:{size:"small",icon:"el-icon-delete"},on:{click:function(a){e.handleDelete(t.row)}}},[e._v("删除")])]}}])})],1),e._v(" "),a("div",{staticClass:"Pagination"},[a("el-pagination",{attrs:{background:"","current-page":e.currentPage,"page-size":e.pageSize,total:e.dataCount,"page-sizes":[10,20,30,40,50],layout:"total, sizes, prev, pager, next"},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1)],1)],1)]),e._v(" "),a("m-dialog",{attrs:{show:e.show,dialogT:e.dialogTitle,dataShow:e.rowData,checkAction:e.action},on:{"update:show":function(t){e.show=t},"update:dataShow":function(t){e.rowData=t},refreshList:e.doRefreshList}})],1)},r=[],s={render:n,staticRenderFns:r};t.a=s},1102:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-dialog",{staticClass:"menuDialog",attrs:{title:e.title,visible:e.visible,width:"50%",modal:"","before-close":e.dialogClose},on:{"update:visible":function(t){e.visible=t},open:e.open}},[a("el-form",{ref:"menu",attrs:{model:e.menu,rules:e.rules}},[a("div",{staticStyle:{display:"none"},attrs:{slot:""},slot:"default"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.menu.id,expression:"menu.id"}],attrs:{type:"hidden"},domProps:{value:e.menu.id},on:{input:function(t){t.target.composing||e.$set(e.menu,"id",t.target.value)}}})]),e._v(" "),a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{prop:"parentCode"}},[a("label",[e._v("上级菜单代码")]),e._v(" "),a("el-input",{attrs:{"auto-complete":"off",readonly:""},model:{value:e.menu.parentCode,callback:function(t){e.$set(e.menu,"parentCode",t)},expression:"menu.parentCode"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{prop:"parentName"}},[a("label",[e._v("上级菜单名称")]),e._v(" "),a("el-input",{attrs:{"auto-complete":"off",readonly:""},model:{value:e.menu.parentName,callback:function(t){e.$set(e.menu,"parentName",t)},expression:"menu.parentName"}})],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{prop:"name"}},[a("label",[e._v("菜单名称")]),e._v(" "),a("el-input",{attrs:{"auto-complete":"off"},model:{value:e.menu.name,callback:function(t){e.$set(e.menu,"name",t)},expression:"menu.name"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{prop:"code"}},[a("label",[e._v("菜单代码")]),e._v(" "),a("el-input",{attrs:{"auto-complete":"off"},model:{value:e.menu.code,callback:function(t){e.$set(e.menu,"code",t)},expression:"menu.code"}})],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{prop:"resourceName"}},[a("label",[e._v("资源")]),e._v(" "),a("el-input",{attrs:{"auto-complete":"off"},model:{value:e.menu.resourceName,callback:function(t){e.$set(e.menu,"resourceName",t)},expression:"menu.resourceName"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",[a("label",[e._v("权限")]),e._v(" "),a("el-input",{attrs:{"auto-complete":"off"},model:{value:e.menu.permission,callback:function(t){e.$set(e.menu,"permission",t)},expression:"menu.permission"}})],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:4}},[a("el-form-item",{attrs:{prop:"sort"}},[a("label",[e._v("排序")]),e._v(" "),a("el-input-number",{attrs:{size:"small",min:0},model:{value:e.menu.sort,callback:function(t){e.$set(e.menu,"sort",t)},expression:"menu.sort"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:20}},[a("el-form-item",{attrs:{prop:"href"}},[a("label",[e._v("路径")]),e._v(" "),a("el-input",{attrs:{"auto-complete":"off"},model:{value:e.menu.href,callback:function(t){e.$set(e.menu,"href",t)},expression:"menu.href"}})],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:24}},[a("el-form-item",[a("label",[e._v("备注")]),e._v(" "),a("el-input",{attrs:{"auto-complete":"off",type:"textarea",rows:2},model:{value:e.menu.remarks,callback:function(t){e.$set(e.menu,"remarks",t)},expression:"menu.remarks"}})],1)],1)],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{icon:"el-icon-close"},on:{click:function(t){e.dialogClose()}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary",icon:"el-icon-check"},on:{click:function(t){e.saveData("menu")}}},[e._v("保 存")])],1)],1)],1)},r=[],s={render:n,staticRenderFns:r};t.a=s},598:function(e,t,a){"use strict";function n(e){a(1070)}Object.defineProperty(t,"__esModule",{value:!0});var r=a(705),s=a(1099),o=a(12),i=n,l=o(r.a,s.a,!1,i,null,null);t.default=l.exports},646:function(e,t,a){e.exports={default:a(647),__esModule:!0}},647:function(e,t,a){var n=a(31),r=n.JSON||(n.JSON={stringify:JSON.stringify});e.exports=function(e){return r.stringify.apply(r,arguments)}},704:function(e,t,a){"use strict";var n=a(23),r=a.n(n),s=a(22),o=a.n(s),i=a(646),l=a.n(i),u=a(14),c=function(e){return a.i(u.a)("/cc/menu/insert",e)},p=function(e){return a.i(u.a)("/cc/menu/update",e)};t.a={data:function(){return{visible:this.show,menu:{},rules:{name:[{required:!0,message:"请输入菜单名称",trigger:"blur"}],code:[{required:!0,message:"请输入菜单代码",trigger:"blur"}]}}},props:["show","dialogT","dataShow","checkAction"],watch:{show:function(){this.visible=this.show}},computed:{title:function(){return this.dialogT}},methods:{open:function(){"edit"===this.checkAction?(this.menu=JSON.parse(l()(this.dataShow)),delete this.menu.createDate,delete this.menu.updateDate,this.menu.oldCode=this.dataShow.code):(this.menu={},this.menu=JSON.parse(l()(this.dataShow)))},saveData:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return!1;"add"===t.checkAction&&t.insertData(),"edit"===t.checkAction&&t.updateData()})},insertData:function(){var e=this;return o()(r.a.mark(function t(){var a;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c(e.menu);case 2:if(a=t.sent,1==a.status){t.next=6;break}return e.$message({type:"error",message:"增加数据失败"+a.message}),t.abrupt("return");case 6:e.$message({type:"success",message:"增加数据完成"}),e.$emit("refreshList"),e.dialogClose();case 9:case"end":return t.stop()}},t,e)}))()},updateData:function(){var e=this;return o()(r.a.mark(function t(){var a;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,p(e.menu);case 2:if(a=t.sent,1==a.status){t.next=6;break}return e.$message({type:"error",message:"更新数据失败"+a.message}),t.abrupt("return");case 6:e.$message({type:"success",message:"更新数据完成"}),e.$emit("refreshList"),e.dialogClose();case 9:case"end":return t.stop()}},t,e)}))()},dialogClose:function(){this.$refs.menu.resetFields(),this.visible=!1,this.$emit("update:show",!1)}}}},705:function(e,t,a){"use strict";var n=a(23),r=a.n(n),s=a(22),o=a.n(s),i=a(14),l=a(1085),u=function(e){return a.i(i.a)("/cc/menu/list",e)},c=function(e){return a.i(i.a)("/cc/menu/treeList",e)},p=function(e){return a.i(i.a)("/cc/menu/delete",e)};t.a={data:function(){return{queryMenuName:"",queryHref:"",tableData:[],currentPage:1,pageSize:10,dataCount:0,clickData:{},clickNode:{},treeProps:{label:"name",children:"children"},dialogTitle:"",show:!1,rowData:{},action:""}},created:function(){this.getListMenuData()},methods:{getListMenuData:function(){var e=this;return o()(r.a.mark(function t(){var a;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u({name:e.queryMenuName,href:e.queryHref,page:e.currentPage,size:e.pageSize});case 2:if(a=t.sent,1==a.status){t.next=6;break}return e.$message({type:"error",message:"获取数据失败"}),t.abrupt("return");case 6:e.tableData=[],a.data.list.forEach(function(t){return e.tableData.push(t)}),e.dataCount=a.data.total;case 9:case"end":return t.stop()}},t,e)}))()},handleSizeChange:function(e){this.pageSize=e,null!=this.clickData.code&&void 0!=this.clickData.code?this.getListMenuDataByNode():this.getListMenuData(this.queryMenuName,this.queryHref)},handleCurrentChange:function(e){this.currentPage=e,null!=this.clickData.code&&void 0!=this.clickData.code?this.getListMenuDataByNode():this.getListMenuData(this.queryMenuName,this.queryHref)},queryData:function(){this.getListMenuData(this.queryMenuName,this.queryHref)},handleNodeClick:function(e,t){this.clickNode=t,this.clickData=e,this.currentPage=1,this.getListMenuDataByNode()},getListMenuDataByNode:function(){var e=this;return o()(r.a.mark(function t(){var a;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u({parentCode:e.clickData.code,page:e.currentPage,size:e.pageSize});case 2:if(a=t.sent,1==a.status){t.next=6;break}return e.$message({type:"error",message:"获取数据失败"}),t.abrupt("return");case 6:e.tableData=[],a.data.list.forEach(function(t){return e.tableData.push(t)}),e.dataCount=a.data.total;case 9:case"end":return t.stop()}},t,e)}))()},loadNode:function(e,t){var a=this;return o()(r.a.mark(function n(){var s,o;return r.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return s="",s=null!=e.key&&void 0!=e.key?e.key:"0",n.next=4,a.getListMenuTreeData(s,1,0);case 4:return o=n.sent,n.abrupt("return",t(o.list));case 6:case"end":return n.stop()}},n,a)}))()},getListMenuTreeData:function(e,t,a){var n=this;return o()(r.a.mark(function s(){var o;return r.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,c({parentCode:e,page:t,size:a});case 2:if(o=r.sent,1==o.status){r.next=6;break}return n.$message({type:"error",message:"获取数据失败"}),r.abrupt("return");case 6:return r.abrupt("return",o.data);case 7:case"end":return r.stop()}},s,n)}))()},handleAddClick:function(){this.action="add",this.dialogTitle="菜单增加",this.rowData={},this.rowData.sort="10",null!=this.clickData.code&&void 0!=this.clickData.code?(this.rowData.parentCode=this.clickData.code,this.rowData.parentName=this.clickData.name,this.show=!0):this.$message({type:"error",message:"请先选择上级菜单"})},handleEdit:function(e){this.rowData=e,this.show=!0,this.action="edit",this.dialogTitle="菜单修改"},handleDelete:function(e){var t=this;this.$confirm("确定删除该键值记录?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning",center:!0}).then(function(){t.deleteData(e)}).catch(function(){})},doRefreshList:function(){this.getListMenuData(),this.clickNode.loaded=!1,this.clickData={}},deleteData:function(e){var t=this;return o()(r.a.mark(function a(){var n;return r.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,p({code:e.code});case 2:if(n=a.sent,1==n.status){a.next=6;break}return t.$message({type:"error",message:"删除数据失败"+n.message}),a.abrupt("return");case 6:t.$message({type:"success",message:"删除数据完成"}),t.getListMenuData(),t.clickNode.loaded=!1,t.clickData={};case 10:case"end":return a.stop()}},a,t)}))()}},components:{MDialog:l.a}}},802:function(e,t,a){t=e.exports=a(592)(!1),t.push([e.i,".allcover{position:absolute;top:0;right:0}.ctt{left:50%;transform:translate(-50%,-50%)}.ctt,.tb{position:absolute;top:50%}.tb{transform:translateY(-50%)}.lr{position:absolute;left:50%;transform:translateX(-50%)}",""])},805:function(e,t,a){t=e.exports=a(592)(!1),t.push([e.i,".allcover{position:absolute;top:0;right:0}.ctt{left:50%;transform:translate(-50%,-50%)}.ctt,.tb{position:absolute;top:50%}.tb{transform:translateY(-50%)}.lr{position:absolute;left:50%;transform:translateX(-50%)}",""])}});