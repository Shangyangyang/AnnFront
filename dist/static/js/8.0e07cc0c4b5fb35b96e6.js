webpackJsonp([8],{1071:function(t,e,i){var a=i(803);"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);i(593)("04c8acbe",a,!0)},1100:function(t,e,i){"use strict";var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("bread"),t._v(" "),i("div",{staticClass:"pageTitle"},[i("div",{staticClass:"pageTitleSub"},[i("el-form",[i("el-row",{attrs:{gutter:5}},[i("el-col",{attrs:{span:5}},[i("el-input",{attrs:{"auto-complete":"off",placeholder:"类型"},model:{value:t.queryType,callback:function(e){t.queryType=e},expression:"queryType"}})],1),t._v(" "),i("el-col",{attrs:{span:5}},[i("el-input",{attrs:{"auto-complete":"off",placeholder:"描述"},model:{value:t.queryDescription,callback:function(e){t.queryDescription=e},expression:"queryDescription"}})],1),t._v(" "),i("el-col",{attrs:{span:8}},[i("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:t.queryData}},[t._v("查 询")]),t._v(" "),i("el-button",{staticStyle:{background:"#fff",color:"#000",border:"1px solid #ccc"},attrs:{type:"primary",icon:"el-icon-plus"},on:{click:function(e){t.handleAddClick()}}},[t._v("新 增")])],1)],1)],1)],1),t._v(" "),i("div",{staticClass:"pageLeftRight"},[i("el-table",{attrs:{data:t.tableData1,stripe:"",border:"","highlight-current-row":""},on:{"current-change":t.handleCurrentChange}},[i("el-table-column",{attrs:{type:"index",label:"序号",width:"80"}}),t._v(" "),i("el-table-column",{attrs:{property:"type",label:"类型",width:"200"}}),t._v(" "),i("el-table-column",{attrs:{property:"description",label:"描述"}}),t._v(" "),i("el-table-column",{attrs:{label:"操作",width:"350"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("el-button",{attrs:{size:"mini",icon:"el-icon-edit"},on:{click:function(i){t.handleEditClick1(e.row)}}},[t._v("修改")]),t._v(" "),i("el-button",{attrs:{size:"mini",icon:"el-icon-delete"},on:{click:function(i){t.handleDelClick1(e.row)}}},[t._v("删除")]),t._v(" "),i("el-button",{attrs:{size:"mini",icon:"el-icon-plus"},on:{click:function(i){t.handleAddClick(e.row)}}},[t._v("添加键值")])]}}])})],1),t._v(" "),i("div",{staticClass:"Pagination"},[i("el-pagination",{attrs:{background:"","current-page":t.currentPage1,"page-size":t.pageSize1,total:t.dataCount1,"page-sizes":[5,10,15,20,50],layout:"total, sizes, prev, pager, next"},on:{"size-change":t.handleSizeChange1,"current-change":t.handleCurrentChange1}})],1),t._v(" "),i("el-table",{attrs:{data:t.tableData2,stripe:"",border:""}},[i("el-table-column",{attrs:{type:"index",label:"序号",width:"80"}}),t._v(" "),i("el-table-column",{attrs:{property:"value",label:"键值",width:"100"}}),t._v(" "),i("el-table-column",{attrs:{property:"label",label:"标签",width:"200"}}),t._v(" "),i("el-table-column",{attrs:{property:"remarks",label:"备注"}}),t._v(" "),i("el-table-column",{attrs:{property:"sort",label:"排序",width:"80"}}),t._v(" "),i("el-table-column",{attrs:{label:"操作",width:"350"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("el-button",{attrs:{size:"mini",icon:"el-icon-edit"},on:{click:function(i){t.handleEditClick2(e.row)}}},[t._v("修改")]),t._v(" "),i("el-button",{attrs:{size:"mini",icon:"el-icon-delete"},on:{click:function(i){t.handleDelClick2(e.row)}}},[t._v("删除")]),t._v(" "),i("el-button",{attrs:{size:"mini",icon:"el-icon-plus"},on:{click:function(i){t.handleAddChild(e.row)}}},[t._v("添加下级")])]}}])})],1),t._v(" "),i("div",{staticClass:"Pagination",staticStyle:{"text-align":"right",margin:"5px 0"}},[i("el-pagination",{attrs:{background:"","current-page":t.currentPage2,"page-size":t.pageSize2,total:t.dataCount2,"page-sizes":[10,20,30,40,50],layout:"total, sizes, prev, pager, next"},on:{"size-change":t.handleSizeChange2,"current-change":t.handleCurrentChange2}})],1)],1),t._v(" "),i("el-dialog",{staticClass:"officeDialog",attrs:{title:t.dialogTitle1,visible:t.dialogVisible1,width:"40%",modal:""},on:{"update:visible":function(e){t.dialogVisible1=e}}},[i("el-form",{attrs:{model:t.dict}},[i("el-row",[i("el-col",{attrs:{span:12}},[i("el-form-item",[i("label",[t._v("类型")]),t._v(" "),i("el-input",{attrs:{"auto-complete":"off",readonly:"",placeholder:"类型"},model:{value:t.dict.type,callback:function(e){t.$set(t.dict,"type",e)},expression:"dict.type"}})],1)],1),t._v(" "),i("el-col",{attrs:{span:12}},[i("el-form-item",[i("label",[t._v("描述")]),t._v(" "),i("el-input",{attrs:{"auto-complete":"off"},model:{value:t.dict.description,callback:function(e){t.$set(t.dict,"description",e)},expression:"dict.description"}})],1)],1)],1)],1),t._v(" "),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{attrs:{icon:"el-icon-close"},on:{click:function(e){t.dialogVisible1=!1}}},[t._v("取 消")]),t._v(" "),i("el-button",{attrs:{type:"primary",icon:"el-icon-check"},on:{click:t.updateTypeData}},[t._v("保 存")])],1)],1),t._v(" "),i("el-dialog",{attrs:{title:t.dialogTitle2,visible:t.dialogVisible2,width:"40%",modal:""},on:{"update:visible":function(e){t.dialogVisible2=e}}},[i("el-form",{attrs:{model:t.dict}},[i("div",{staticStyle:{display:"none"},attrs:{slot:""},slot:"default"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.dict.id,expression:"dict.id"}],attrs:{type:"hidden"},domProps:{value:t.dict.id},on:{input:function(e){e.target.composing||t.$set(t.dict,"id",e.target.value)}}})]),t._v(" "),i("el-form-item",{staticClass:"addFloat"},[i("el-input",{attrs:{"auto-complete":"off",placeholder:"键值"},model:{value:t.dict.value,callback:function(e){t.$set(t.dict,"value",e)},expression:"dict.value"}}),t._v(" "),i("el-input",{attrs:{"auto-complete":"off",placeholder:"标签"},model:{value:t.dict.label,callback:function(e){t.$set(t.dict,"label",e)},expression:"dict.label"}}),t._v(" "),i("el-input",{attrs:{"auto-complete":"off",readonly:t.typeReadOnly,placeholder:"类型"},model:{value:t.dict.type,callback:function(e){t.$set(t.dict,"type",e)},expression:"dict.type"}}),t._v(" "),i("el-input",{attrs:{"auto-complete":"off",readonly:t.descReadOnly,placeholder:"描述"},model:{value:t.dict.description,callback:function(e){t.$set(t.dict,"description",e)},expression:"dict.description"}})],1),t._v(" "),i("el-form-item",{staticClass:"paiX",attrs:{label:"排序","label-width":t.labelWidth}},[i("el-input-number",{attrs:{size:"small",min:0},model:{value:t.dict.sort,callback:function(e){t.$set(t.dict,"sort",e)},expression:"dict.sort"}})],1),t._v(" "),i("el-row",[i("el-col",{attrs:{span:24}},[i("el-form-item",[i("label",[t._v("备注")]),t._v(" "),i("el-input",{attrs:{type:"textarea",rows:3},model:{value:t.dict.remarks,callback:function(e){t.$set(t.dict,"remarks",e)},expression:"dict.remarks"}})],1)],1)],1)],1),t._v(" "),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{attrs:{icon:"el-icon-close"},on:{click:function(e){t.dialogVisible2=!1}}},[t._v("取 消")]),t._v(" "),i("el-button",{attrs:{type:"primary",icon:"el-icon-check"},on:{click:t.saveData}},[t._v("保 存")])],1)],1),t._v(" "),i("el-dialog",{attrs:{title:t.dialogTitle3,visible:t.dialogVisible3,width:"20%",modal:""},on:{"update:visible":function(e){t.dialogVisible3=e}}},[i("el-form",{attrs:{model:t.dict1}},[i("div",{staticStyle:{display:"none"},attrs:{slot:""},slot:"default"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.dict1.id,expression:"dict1.id"}],attrs:{type:"hidden"},domProps:{value:t.dict1.id},on:{input:function(e){e.target.composing||t.$set(t.dict1,"id",e.target.value)}}}),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.dict1.type,expression:"dict1.type"}],attrs:{type:"hidden"},domProps:{value:t.dict1.type},on:{input:function(e){e.target.composing||t.$set(t.dict1,"type",e.target.value)}}})]),t._v(" "),i("el-input",{attrs:{"auto-complete":"off",placeholder:"字典类型"},model:{value:t.dictTypeForChild,callback:function(e){t.dictTypeForChild=e},expression:"dictTypeForChild"}}),t._v(" "),i("el-button",{attrs:{type:"primary",icon:"el-icon-check"},on:{click:t.chooseChild}},[t._v("确 定")])],1)],1),t._v(" "),i("el-dialog",{attrs:{title:t.dialogTitle4,visible:t.dialogVisible4,width:"20%",modal:""},on:{"update:visible":function(e){t.dialogVisible4=e}}},[i("el-form",{attrs:{model:t.dict2}},[i("div",{staticStyle:{display:"none"},attrs:{slot:""},slot:"default"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.dict2.id,expression:"dict2.id"}],attrs:{type:"hidden"},domProps:{value:t.dict2.id},on:{input:function(e){e.target.composing||t.$set(t.dict2,"id",e.target.value)}}}),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.dict2.parentType,expression:"dict2.parentType"}],attrs:{type:"hidden"},domProps:{value:t.dict2.parentType},on:{input:function(e){e.target.composing||t.$set(t.dict2,"parentType",e.target.value)}}})]),t._v(" "),i("data-dict",{attrs:{dictType:t.dictTypeForChild,dictValue:t.dict2.children,isMulti:!0},on:{"update:dictType":function(e){t.dictTypeForChild=e},"update:dictValue":function(e){t.$set(t.dict2,"children",e)}}}),t._v(" "),i("el-button",{attrs:{type:"primary",icon:"el-icon-check"},on:{click:t.saveChild}},[t._v("保 存")])],1)],1)],1)],1)},n=[],s={render:a,staticRenderFns:n};e.a=s},597:function(t,e,i){"use strict";function a(t){i(1071)}Object.defineProperty(e,"__esModule",{value:!0});var n=i(703),s=i(1100),r=i(12),c=a,l=r(n.a,s.a,!1,c,null,null);e.default=l.exports},703:function(t,e,i){"use strict";var a=i(23),n=i.n(a),s=i(22),r=i.n(s),c=i(14),l=function(t){return i.i(c.a)("/cc/dict/insert",t)},o=function(t){return i.i(c.a)("/cc/dict/listType",t)},d=function(t){return i.i(c.a)("/cc/dict/updateType",t)},u=function(t){return i.i(c.a)("/cc/dict/deleteType",t)},p=function(t){return i.i(c.a)("/cc/dict/list",t)},h=function(t){return i.i(c.a)("/cc/dict/update",t)},y=function(t){return i.i(c.a)("/cc/dict/delete",t)},f=function(t){return i.i(c.a)("/cc/dict/addChild",t)},v=function(t){return i.i(c.a)("/cc/dict/getDictChild",t)};e.a={data:function(){return{queryType:"",queryDescription:"",clickType:"",clickDescription:"",currentPage1:1,pageSize1:5,dataCount1:0,tableData1:[],currentPage2:1,pageSize2:10,dataCount2:0,tableData2:[],dialogVisible1:!1,dialogTitle1:"",dialogVisible2:!1,dialogTitle2:"",dialogVisible3:!1,dialogTitle3:"添加子字典",dialogVisible4:!1,dialogTitle4:"选择子字典",labelWidth:"60px",typeReadOnly:!1,descReadOnly:!1,action:"",dict:{id:"",value:"",label:"",type:"",description:"",sort:"10",remarks:""},dict1:{},dict2:{},dictTypeForChild:""}},created:function(){this.getListTypeData()},methods:{handleSizeChange1:function(t){this.pageSize1=t,this.getListTypeData(this.queryType,this.queryDescription)},handleCurrentChange1:function(t){this.currentPage1=t,this.getListTypeData(this.queryType,this.queryDescription)},handleSizeChange2:function(t){this.pageSize2=t,this.getListData(this.clickType,this.clickDescription)},handleCurrentChange2:function(t){this.currentPage2=t,this.getListData(this.clickType,this.clickDescription)},handleCurrentChange:function(t){null!=t&&void 0!=t&&(null!=t.type&&void 0!=t.type&&(this.clickType=t.type),null!=t.description&&void 0!=t.description&&(this.clickDescription=t.description)),this.getListData(this.clickType,this.clickDescription)},queryData:function(){this.getListTypeData(this.queryType,this.queryDescription)},handleAddClick:function(t){this.action="add",this.dialogVisible2=!0,this.dict.sort=10,this.dict.value="",this.dict.label="",this.dict.remarks="",null!=t&&void 0!=t?(this.dict.type=t.type,this.dict.description=t.description,this.dialogTitle2="添加键值",this.typeReadOnly=!0,this.descReadOnly=!0):(this.dict.type="",this.dict.description="",this.dialogTitle2="添加类型及键值",this.typeReadOnly=!1,this.descReadOnly=!1)},handleEditClick1:function(t){this.dialogTitle1="类型修改",this.dialogVisible1=!0,this.dict.type=t.type,this.dict.description=t.description},handleEditClick2:function(t){this.action="edit",this.dialogTitle2="键值修改",this.dialogVisible2=!0,this.dict.id=t.id,this.dict.value=t.value,this.dict.label=t.label,this.dict.type=t.type,this.dict.description=t.description,this.dict.sort=t.sort,this.dict.remarks=t.remarks,this.typeReadOnly=!0,this.descReadOnly=!0},handleDelClick1:function(t){var e=this;this.$confirm("该类型下的键值数据都会被删除,确定删除该类型记录?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning",center:!0}).then(function(){e.deleteTypeData(t)}).catch(function(){})},handleDelClick2:function(t){var e=this;this.$confirm("确定删除该键值记录?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning",center:!0}).then(function(){e.deleteData(t)}).catch(function(){})},saveData:function(){"add"===this.action&&this.insertData(),"edit"===this.action&&this.updateData()},getListTypeData:function(t,e){var i=this;return r()(n.a.mark(function a(){var s;return n.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,o({type:t,description:e,page:i.currentPage1,size:i.pageSize1});case 2:if(s=a.sent,1==s.status){a.next=6;break}return i.$message({type:"error",message:"获取数据失败"}),a.abrupt("return");case 6:i.tableData1=[],s.data.list.forEach(function(t){return i.tableData1.push(t)}),i.dataCount1=s.data.total;case 9:case"end":return a.stop()}},a,i)}))()},getListData:function(t,e){var i=this;return r()(n.a.mark(function a(){var s;return n.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,p({type:t,description:e,page:i.currentPage2,size:i.pageSize2});case 2:if(s=a.sent,1==s.status){a.next=6;break}return i.$message({type:"error",message:"获取数据失败"}),a.abrupt("return");case 6:i.tableData2=[],s.data.list.forEach(function(t){return i.tableData2.push(t)}),i.dataCount2=s.data.total;case 9:case"end":return a.stop()}},a,i)}))()},insertData:function(){var t=this;return r()(n.a.mark(function e(){var i;return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l(t.dict);case 2:if(i=e.sent,1==i.status){e.next=6;break}return t.$message({type:"error",message:"增加数据失败"}),e.abrupt("return");case 6:t.$message({type:"success",message:"增加数据完成"}),t.dialogVisible2=!1,t.getListTypeData(t.queryType,t.queryDescription),t.getListData(t.clickType,t.clickDescription);case 10:case"end":return e.stop()}},e,t)}))()},updateTypeData:function(){var t=this;return r()(n.a.mark(function e(){var i;return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d({type:t.dict.type,description:t.dict.description});case 2:if(i=e.sent,1==i.status){e.next=6;break}return t.$message({type:"error",message:"更新数据失败"}),e.abrupt("return");case 6:t.$message({type:"success",message:"更新数据完成"}),t.dialogVisible1=!1,t.getListTypeData(t.queryType,t.queryDescription);case 9:case"end":return e.stop()}},e,t)}))()},updateData:function(){var t=this;return r()(n.a.mark(function e(){var i;return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h(t.dict);case 2:if(i=e.sent,1==i.status){e.next=6;break}return t.$message({type:"error",message:"更新数据失败"}),e.abrupt("return");case 6:t.$message({type:"success",message:"更新数据完成"}),t.dialogVisible2=!1,t.getListData(t.clickType,t.clickDescription);case 9:case"end":return e.stop()}},e,t)}))()},deleteTypeData:function(t){var e=this;return r()(n.a.mark(function i(){var a;return n.a.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,u({type:t.type,description:t.description});case 2:if(a=i.sent,1==a.status){i.next=6;break}return e.$message({type:"error",message:"删除数据失败"}),i.abrupt("return");case 6:e.$message({type:"success",message:"删除数据完成"}),e.getListTypeData(e.queryType,e.queryDescription);case 8:case"end":return i.stop()}},i,e)}))()},deleteData:function(t){var e=this;return r()(n.a.mark(function i(){var a;return n.a.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,y({id:t.id,type:t.type});case 2:if(a=i.sent,1==a.status){i.next=6;break}return e.$message({type:"error",message:"删除数据失败"}),i.abrupt("return");case 6:e.$message({type:"success",message:"删除数据完成"}),e.getListData(e.clickType,e.clickDescription);case 8:case"end":return i.stop()}},i,e)}))()},handleAddChild:function(t){var e=this;return r()(n.a.mark(function i(){return n.a.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:e.dialogVisible3=!0,e.dict1={},e.dict1=t,e.dictTypeForChild="";case 4:case"end":return i.stop()}},i,e)}))()},chooseChild:function(){if(void 0===this.dictTypeForChild||null===this.dictTypeForChild||""===this.dictTypeForChild)return void this.$message({type:"error",message:"请填写子字典类型!"});this.dialogVisible3=!1,this.dict2.id=this.dict1.id,this.dict2.type=this.dictTypeForChild,this.dict2.parentType=this.dict1.type,this.getChild()},getChild:function(){var t=this;return r()(n.a.mark(function e(){var i;return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v(t.dict2);case 2:if(i=e.sent,1==i.status){e.next=6;break}return t.$message({type:"error",message:"获取数据失败"}),e.abrupt("return");case 6:t.dict2.children=null===i.data.childValues?[]:i.data.childValues,t.dialogVisible4=!0;case 8:case"end":return e.stop()}},e,t)}))()},saveChild:function(){var t=this;return r()(n.a.mark(function e(){var i;return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f(t.dict2);case 2:if(i=e.sent,1==i.status){e.next=6;break}return t.$message({type:"error",message:null===i.message||void 0===t.dictTypeForChild?"更新数据失败":i.message}),e.abrupt("return");case 6:t.$message({type:"success",message:"更新数据完成"}),t.dict1={},t.dict2={},t.dictTypeForChild="",t.dialogVisible4=!1;case 11:case"end":return e.stop()}},e,t)}))()}}}},803:function(t,e,i){e=t.exports=i(592)(!1),e.push([t.i,".allcover{position:absolute;top:0;right:0}.ctt{left:50%;transform:translate(-50%,-50%)}.ctt,.tb{position:absolute;top:50%}.tb{transform:translateY(-50%)}.lr{position:absolute;left:50%;transform:translateX(-50%)}",""])}});